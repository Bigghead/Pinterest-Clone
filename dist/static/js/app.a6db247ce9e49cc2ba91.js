webpackJsonp([1],[,,,,,,,,,,,,function(t,e,n){"use strict";var i=n(3),a=n(128),r=n(2),o=n.n(r);i.a.use(a.a),e.a=new a.a.Store({state:{user:null,images:[]},mutations:{setUserState:function(t,e){t.user=e},fetchUserData:function(t,e){t.user=e},setImages:function(t,e){t.images=e},addNewImage:function(t,e){t.images.unshift(e)},deleteImage:function(t,e){t.images.forEach(function(n,i){n._id===e&&t.images.splice(i,1)})},addOrRemoveLike:function(t,e){t.images.forEach(function(n,i){n._id===e&&(-1===n.likedBy.indexOf(t.user._id)?n.likedBy.push(t.user._id):n.likedBy.splice(n.likedBy.indexOf(t.user._id)))})}},actions:{setUserState:function(t,e){o.a.get("http://localhost:8000/verifyUser").then(function(e){t.commit("setUserState",e.data)})},setImages:function(t,e){o.a.get("http://localhost:8000/images").then(function(e){t.commit("setImages",e.data)})},addNewImage:function(t,e){o.a.post("http://localhost:8000/images/new",{link:e}).then(function(e){t.commit("addNewImage",e.data)})},deleteImage:function(t,e){o.a.post("http://localhost:8000/images/delete",{imageId:e}).then(function(n){t.commit("deleteImage",e)}).catch(function(t){console.log(t)})},addOrRemoveLike:function(t,e){o.a.post("http://localhost:8000/images/"+e+"/update").then(function(n){t.commit("addOrRemoveLike",e)}).catch(function(t){console.log(t)})},logOut:function(t){o.a.get("http://localhost:8000/logout").then(function(){localStorage.removeItem("myData")})}}})},function(t,e,n){n(91);var i=n(1)(n(53),n(120),null,null);t.exports=i.exports},,,,,,,,,,function(t,e,n){"use strict";var i=n(3),a=n(126),r=n(108),o=n.n(r),s=n(111),u=n.n(s),l=n(110),c=(n.n(l),n(109)),d=n.n(c),f=n(112),h=n.n(f),m=n(113),v=(n.n(m),n(114)),g=n.n(v);i.a.use(a.a),e.a=new a.a({history:!0,routes:[{path:"/",component:o.a},{path:"/login",component:u.a},{path:"/images",component:d.a},{path:"/register",component:h.a},{path:"/images/:userID",component:g.a}]})},function(t,e,n){n(93);var i=n(1)(n(45),n(122),null,null);t.exports=i.exports},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{isShow:!1}},props:{width:{required:!0,validator:function(t){return t>=0}},height:{required:!0,validator:function(t){return t>=0}},order:{default:0},moveClass:{default:""}},methods:{notify:function(){this.$parent.$emit("reflow",this)},getMeta:function(){return{vm:this,node:this.$el,order:this.order,width:this.width,height:this.height,moveClass:this.moveClass}}},created:function(){var t=this;this.rect={top:0,left:0,width:0,height:0},this.$watch(function(){return t.width,t.height},this.notify)},mounted:function(){var t=this;this.$parent.$once("reflowed",function(){t.isShow=!0}),this.notify()},destroyed:function(){this.notify()}}},function(t,e,n){"use strict";function i(t){!1!==t&&this.autoResize?k(window,"resize",this.reflowHandler,!1):I(window,"resize",this.reflowHandler,!1)}function a(t){var e=t.target,n=e[b];n&&x(e,n)}function r(){clearTimeout(this.token),this.token=setTimeout(this.reflow,this.interval)}function o(){var t=this;if(this.$el){var e=this.$el.clientWidth,n=this.$children.map(function(t){return t.getMeta()});n.sort(function(t,e){return t.order-e.order}),this.virtualRects=n.map(function(){return{}}),u(this,n,this.virtualRects),setTimeout(function(){s(t.$el,e)&&u(t,n,t.virtualRects),t.style.overflow="hidden",f(t.virtualRects,n),t.$emit("reflowed",t)},0)}}function s(t,e){return e!==t.clientWidth}function u(t,e,n){var i=l(t);("h"===t.line?M:L).calculate(t,i,e,n)}function l(t){var e=t.maxLineGap?+t.maxLineGap:t.lineGap;return{align:~["left","right","center"].indexOf(t.align)?t.align:"left",line:~["v","h"].indexOf(t.line)?t.line:"v",lineGap:+t.lineGap,minLineGap:t.minLineGap?+t.minLineGap:t.lineGap,maxLineGap:e,singleMaxWidth:Math.max(t.singleMaxWidth||0,e),fixedHeight:!!t.fixedHeight,grow:t.grow&&t.grow.map(function(t){return+t})}}function c(t,e,n){switch(n){case"right":return t-e;case"center":return(t-e)/2;default:return 0}}function d(t){return t.reduce(function(t,e){return t+e})}function f(t,e){var n=e.filter(function(t){return t.moveClass}),i=h(n);m(t,e);var a=h(n);n.forEach(function(t,e){t.node[b]=t.moveClass,v(t.node,i[e],a[e])}),document.body.clientWidth,n.forEach(function(t){w(t.node,t.moveClass),g(t.node)})}function h(t){return t.map(function(t){return t.vm.rect})}function m(t,e){t.forEach(function(t,n){var i=e[n].node.style;e[n].vm.rect=t;for(var a in t)i[a]=t[a]+"px"})}function v(t,e,n){var i=e.left-n.left,a=e.top-n.top,r=e.width/n.width,o=e.height/n.height;t.style.transform=t.style.WebkitTransform="translate("+i+"px,"+a+"px) scale("+r+","+o+")",t.style.transitionDuration="0s"}function g(t){t.style.transform=t.style.WebkitTransform="",t.style.transitionDuration=""}function p(){return void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend?"webkitTransitionEnd":"transitionend"}function _(t,e){for(var n="function"==typeof t?function(){return t()}:function(){return t},i=[],a=0;a<e;a++)i[a]=n();return i}function w(t,e){if(!y(t,e)){$(t,"class",($(t,"class").trim()+" "+e).trim())}}function x(t,e){var n=new RegExp("\\s*\\b"+e+"\\b\\s*","g");$(t,"class",$(t,"class").replace(n," ").trim())}function y(t,e){return new RegExp("\\b"+e+"\\b").test($(t,"class"))}function $(t,e,n){if(void 0===n)return t.getAttribute(e)||"";t.setAttribute(e,n)}function k(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.addEventListener(e,n,i)}function I(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.removeEventListener(e,n,i)}Object.defineProperty(e,"__esModule",{value:!0});var b="_wfMoveClass";e.default={props:{autoResize:{default:!0},interval:{default:200,validator:function(t){return t>=0}},align:{default:"left",validator:function(t){return~["left","right","center"].indexOf(t)}},line:{default:"v",validator:function(t){return~["v","h"].indexOf(t)}},lineGap:{required:!0,validator:function(t){return t>=0}},minLineGap:{validator:function(t){return t>=0}},maxLineGap:{validator:function(t){return t>=0}},singleMaxWidth:{validator:function(t){return t>=0}},fixedHeight:{default:!1},grow:{validator:function(t){return t instanceof Array}},watch:{default:function(){return{}}}},data:function(){return{style:{height:"",overflow:""},token:null}},methods:{reflowHandler:r,autoResizeHandler:i,reflow:o},created:function(){var t=this;this.virtualRects=[],this.$on("reflow",function(){t.reflowHandler()}),this.$watch(function(){return t.align,t.line,t.lineGap,t.minLineGap,t.maxLineGap,t.singleMaxWidth,t.fixedHeight,t.watch},this.reflowHandler),this.$watch("grow",this.reflowHandler)},mounted:function(){this.$watch("autoResize",this.autoResizeHandler),k(this.$el,p(),a,!0),this.autoResizeHandler(this.autoResize)},beforeDestroy:function(){this.autoResizeHandler(!1),I(this.$el,p(),a,!0)}};var L=function(){function t(t,i,a,r){var o=t.$el.clientWidth,s=i.grow,u=s?n(o,s):e(o,i),l=_(0,u.count);a.forEach(function(t,e){var n=l.reduce(function(t,e,n){return e<l[t]?n:t},0),a=u.width[n%u.count],o=r[e];o.top=l[n],o.left=u.left+(n?d(u.width.slice(0,n)):0),o.width=a,o.height=t.height*(i.fixedHeight?1:a/t.width),l[n]=l[n]+o.height}),t.style.height=Math.max.apply(Math,l)+"px"}function e(t,e){var n=t/e.lineGap,i=void 0;if(e.singleMaxWidth>=t)n=1,i=Math.max(t,e.minLineGap);else{var a=e.maxLineGap*~~n,r=e.minLineGap*~~(n+1),o=a>=t,s=r<=t;o&&s?(n=Math.round(n),i=t/n):o?(n=~~n,i=t/n):s?(n=~~(n+1),i=t/n):(n=~~n,i=e.maxLineGap),1===n&&(i=Math.min(t,e.singleMaxWidth),i=Math.max(i,e.minLineGap))}return{width:_(i,n),count:n,left:c(t,i*n,e.align)}}function n(t,e){var n=d(e);return{width:e.map(function(e){return t*e/n}),count:e.length,left:0}}return{calculate:t}}(),M=function(){function t(t,n,i,a){for(var r=t.$el.clientWidth,o=i.length,s=0,u=0;u<o;){for(var l,c,d=e(r,n,i,u),f=0,h=0;f<d.count;f++)l=i[u+f],c=a[u+f],c.top=s,c.left=d.left+h,c.width=l.width*d.height/l.height,c.height=d.height,h+=c.width;u+=d.count,s+=d.height}t.style.height=s+"px"}function e(t,e,r,o){var s=n(t,e.lineGap,r,o),u=Math.max(s-1,1),l=i(t,e,r,o,s),d=i(t,e,r,o,u),f=a(d,l,t),h=f.height,m=f.width;return 1===f.count&&(m=Math.min(e.singleMaxWidth,t),h=r[o].height*m/r[o].width),{left:c(t,m,e.align),count:f.count,height:h}}function n(t,e,n,i){for(var a=0,r=i,o=0;r<n.length&&o<=t;r++)o+=n[r].width*e/n[r].height,a++;return a}function i(t,e,n,i,a){for(var r=0,o=a-1;o>=0;o--){var s=n[i+o];r+=s.width*e.lineGap/s.height}var u=e.lineGap*t/r;if(u<=e.maxLineGap&&u>=e.minLineGap)return{cost:Math.abs(e.lineGap-u),count:a,width:t,height:u};var l=r>t?e.minLineGap:e.maxLineGap;return{cost:1/0,count:a,width:r*l/e.lineGap,height:l}}function a(t,e,n){return t.cost===1/0&&e.cost===1/0?e.width<n?e:t:e.cost>=t.cost?t:e}return{calculate:t}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(13),a=n.n(i);e.default={name:"app",components:{"nav-header":a.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(12),n(2));n.n(i);e.default={mounted:function(){},computed:{user:function(){return this.$store.state.user}},methods:{verifyUser:function(){console.log(this.$store),this.user=this.$store.state.user}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2);n.n(i);e.default={data:function(){return{imageLink:""}},computed:{images:function(){return this.$store.state.images},user:function(){return this.$store.state.user}},methods:{addNewImage:function(){var t=this;this.$store.dispatch("addNewImage",t.imageLink),t.imageLink=""},deleteImage:function(t){this.$store.dispatch("deleteImage",t)},randomGrid:function(){var t=["grid-item--height1","grid-item--height2","grid-item--height3"];return t[Math.floor(Math.random()*t.length)]},addOrRemoveLike:function(t){this.$store.dispatch("addOrRemoveLike",t)}},created:function(){0===this.$store.state.images.length&&this.$store.dispatch("setImages")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),a=n.n(i);e.default={data:function(){return{username:"",password:""}},methods:{submitForm:function(){var t=this;return a.a.post("http://localhost:8000/login",{username:this.username,password:this.password}).then(function(e){console.log(e.data),localStorage.setItem("id_token",e.data.token),t.$router.push("/")}).catch(function(t){alertify.error(t.response.data.message)})},test:function(){a.a.get("http://localhost:8000/test").then(function(t){return console.log(t)})}},mounted:function(){localStorage.getItem("id_token")&&this.$router.push("/")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2);n.n(i);e.default={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),a=n.n(i),r=n(107),o=n.n(r),s=n(106),u=n.n(s);e.default={data:function(){return{userImages:[],width:"400px",height:"250px"}},components:{waterfall:o.a,"waterfall-slot":u.a},created:function(){console.log(this.$route.params.userID);var t=this;a.a.get("http://localhost:8000/images/"+this.$route.params.userID).then(function(e){t.userImages=e.data})},methods:{randomGrid:function(){var t=["grid-item","grid-item grid-item--height2","grid-item grid-item--height3","grid-item grid-item--height4"];return t[Math.floor(Math.random()*t.length)]},randomHeight:function(){return Math.floor(325*Math.random()+275)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),a=n.n(i);e.default={data:function(){return{userImages:[]}},created:function(){var t=this;console.log(this.$route.params.userID),a.a.get("http://localhost:8000/images/"+this.$route.params.userID).then(function(e){console.log(e.data),t.userImages=e.data})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{user:function(){return this.$store.state.user}},created:function(){this.$store.dispatch("setUserState")},methods:{logOut:function(){this.$store.dispatch("logOut")}}}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),a=n(24),r=n.n(a),o=n(23),s=n(13),u=(n.n(s),n(12)),l=n(25);i.a.use(l.a),new i.a({el:"#root",data:{message:"Hello Vue"},router:o.a,store:u.a,template:"<App/>",components:{App:r.a}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,function(t,e,n){var i=n(1)(n(54),null,null,null);t.exports=i.exports},function(t,e,n){n(92);var i=n(1)(n(43),n(121),null,null);t.exports=i.exports},function(t,e,n){n(86);var i=n(1)(n(44),n(115),null,null);t.exports=i.exports},function(t,e,n){n(95);var i=n(1)(n(46),n(124),null,null);t.exports=i.exports},function(t,e,n){n(89);var i=n(1)(n(47),n(118),"data-v-2dd97003",null);t.exports=i.exports},function(t,e,n){n(88);var i=n(1)(n(48),n(117),"data-v-22d1b3c9",null);t.exports=i.exports},function(t,e,n){n(87);var i=n(1)(n(49),n(116),null,null);t.exports=i.exports},function(t,e,n){n(90);var i=n(1)(n(50),n(119),null,null);t.exports=i.exports},function(t,e,n){n(94);var i=n(1)(n(51),n(123),"data-v-7bb0f6a4",null);t.exports=i.exports},function(t,e,n){n(96);var i=n(1)(n(52),n(125),"data-v-fe79c6c8",null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vue-waterfall",style:t.style},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("a",{attrs:{href:"http://localhost:8000/auth"}},[t._v("Twitter")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("h2",[t._v("Log In")]),t._v(" "),n("form",{attrs:{action:"index.html",method:"post"},on:{submit:function(e){e.preventDefault(),t.submitForm(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"User Name"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("button",{staticClass:"waves-effect waves-light red lighten-2 btn"},[t._v("Log In")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:" images"},[n("h2",[t._v("Images")]),t._v(" "),t.user?n("div",[n("form",{on:{submit:function(e){e.preventDefault(),t.addNewImage(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.imageLink,expression:"imageLink"}],attrs:{type:"text",name:"",value:""},domProps:{value:t.imageLink},on:{input:function(e){e.target.composing||(t.imageLink=e.target.value)}}}),t._v(" "),n("div",{},[n("button",{staticClass:"waves-effect waves-light btn",attrs:{type:"button",name:"button"},on:{click:function(e){e.preventDefault(),t.addNewImage(e)}}},[t._v("Pin A New Image")])])])]):t._e(),t._v(" "),n("div",{staticClass:"grid "},t._l(t.images,function(e){return n("div",{staticClass:"grid-item"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-image",class:t.randomGrid()},[n("img",{attrs:{src:e.link}})]),t._v(" "),n("div",{staticClass:"card-action"},[t.user?n("a",{attrs:{href:"#"},on:{click:function(n){n.preventDefault(),t.addOrRemoveLike(e._id)}}},[t._v("Likes: "+t._s(e.likedBy.length))]):n("a",{staticClass:"disabled"},[t._v("Likes : "+t._s(e.likedBy.length))]),t._v(" "),n("hr"),t._v(" "),t.user&&e.addedById===t.user._id?n("div",[n("a",{attrs:{href:"#"},on:{click:function(n){n.preventDefault(),t.deleteImage(e._id)}}},[n("br"),t._v("Delete")])]):n("div",[n("router-link",{attrs:{to:"/images/"+e.addedById}},[n("br"),t._v(t._s(e.addedBy))])],1)])])])}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("h1",[t._v("Register, Sucka!!!!")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("nav",{staticClass:"grey darken-4"},[n("div",{staticClass:"nav-wrapper"},[n("a",{staticClass:"brand-logo left hide-on-small-only",attrs:{href:"#"}},[t._v("Pinterest Stuff")]),t._v(" "),n("ul",{staticClass:"right ",attrs:{id:"nav-mobile"}},[t.user?[n("li",[n("router-link",{attrs:{to:"/images/"+t.user._id}},[t._v(t._s(t.user.username))])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"/images"}},[t._v("All Images")])],1),t._v(" "),n("li",[n("a",{attrs:{href:"http://localhost:8000/logout"},on:{click:t.logOut}},[t._v("Log Out")])])]:[n("li",[n("a",{attrs:{href:"http://localhost:8000/auth"}},[t._v("Log In!")])]),t._v(" "),n("li",[n("router-link",{attrs:{to:"/images"}},[t._v("All Images")])],1)]],2)])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"vue-waterfall-slot"},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("nav-header"),t._v(" "),n("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("waterfall",{attrs:{"line-gap":200,watch:t.userImages}},[n("div",{staticClass:"waterfall center-align"},t._l(t.userImages,function(e,i){return n("waterfall-slot",{key:e._id,attrs:{width:450,height:t.randomHeight(),order:i}},[n("img",{attrs:{src:e.link,alt:""}})])}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"homepage"}},[n("h1",[t._v("Welcome to My Pinterest Clone")]),t._v(" "),n("hr"),t._v(" "),t.user?n("div",{},[n("h3",[t._v("Welcome, "+t._s(t.user.username))])]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.userImages.length>0?n("div",[n("h1",{staticClass:"center-align"},[t._v("All Images By "+t._s(t.userImages[0].addedBy))]),t._v(" "),n("div",{staticClass:"grid center-align"},t._l(t.userImages,function(t){return n("div",{staticClass:"grid-item"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-image"},[n("img",{attrs:{src:t.link}})])])])}))]):t._e()},staticRenderFns:[]}}],[55]);
//# sourceMappingURL=app.a6db247ce9e49cc2ba91.js.map